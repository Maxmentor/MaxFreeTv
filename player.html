<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ADVANCE PLAYER</title>

<script src="https://cdn.jsdelivr.net/npm/clappr@latest/dist/clappr.min.js"></script>

<style>
html,body{
  margin:0;
  padding:0;
  height:100%;
  background:#000;
}
#player{
  width:100%;
  height:100%;
  position:fixed;
  inset:0;
}
.loading{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  color:white;
  font-family:Arial;
  background:black;
  z-index:100;
}
</style>
</head>

<body>

<div id="player"></div>
<div class="loading" id="loading">Loading Stream...</div>

<script>
const params = new URLSearchParams(location.search);
const streamUrl = params.get("src");

const loading = document.getElementById("loading");

if(!streamUrl){
  loading.innerText="No stream provided!";
}else{

  loading.remove();

  new Clappr.Player({
    parentId:"#player",
    source: streamUrl,
    autoPlay:true,
    width:"100%",
    height:"100%",
    mimeType:"application/x-mpegURL",
    playback:{
      hlsjsConfig:{
        maxBufferLength:30,
        maxMaxBufferLength:60
      }
    }
  });
}
</script>

</body>
</html>
